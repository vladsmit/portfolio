(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,g=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&g.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(g.length)g.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"36ac":function(t,e,a){"use strict";a("510f")},"510f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("5f5b"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("TaskField")],1)},r=[],o=a("5530"),c=a("2f62"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainWrapper"},[a("h3",{staticClass:"mainTitle"},[t._v("Задачи")]),t.getTaskList.length>10?a("div",{staticClass:"pagination"},[t.getPage>1?a("p",{staticClass:"pagination__arrow left",on:{click:t.backPage}}):t._e(),t._v(" Стр. "+t._s(t.getPage)+" "),t.getTaskList.length>10*t.getPage?a("p",{staticClass:"pagination__arrow",on:{click:t.forwardPage}}):t._e()]):t._e(),a("div",{staticClass:"taskList"},t._l(t.paginationPageList,(function(e){return a("Task",{key:e.id,class:t.className(e),attrs:{task:e}})})),1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask,expression:"newTask"}],staticClass:"textarea",attrs:{placeholder:"Создайте новую задачу..."},domProps:{value:t.newTask},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask(e)},input:function(e){e.target.composing||(t.newTask=e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addTask}},[t._v(" Добавить задачу ")]),t.newTask?a("button",{staticClass:"btn btn-danger btn--margin",attrs:{type:"button"},on:{click:t.clearTask}},[t._v(" Стереть ")]):t._e()])},l=[],d=(a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.task.edit?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.editTask,expression:"task.editTask"}],staticClass:"task__editTask",attrs:{type:"text"},domProps:{value:t.task.editTask},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.acceptEdit(t.task)},input:function(e){e.target.composing||t.$set(t.task,"editTask",e.target.value)}}}),a("input",{staticClass:"task__acceptIcon",attrs:{type:"button"},on:{click:function(e){return t.acceptEdit(t.task)}}})]:[a("p",{staticClass:"task__title",on:{click:function(e){return t.doneTask(t.task)}}},[t._v(" "+t._s(t.taskNumber(t.task))+" "+t._s(t.task.title)+" ")]),a("input",{staticClass:"task__editIcon",attrs:{type:"button"},on:{click:function(e){return t.editedTask(t.task)}}}),a("input",{staticClass:"task__deleteIcon",attrs:{type:"button"},on:{click:function(e){return t.deleteTask(t.task)}}})]],2)}),g=[],p={name:"Task",props:["task"],computed:Object(o["a"])({},Object(c["c"])(["getTaskList","getPage","paginationPageList"])),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["d"])(["decrementPage"])),Object(c["b"])(["deleteTaskFromLocalStorage","editTaskInLocalStorage"])),{},{deleteTask:function(t){this.deleteTaskFromLocalStorage(t),this.checkPage()},taskNumber:function(t){return"".concat(this.getTaskList.indexOf(t)+1,")")},checkPage:function(){0===this.paginationPageList.length&&this.getPage>1&&(this.decrementPage(),this.$router.push({name:"page",params:{id:this.getPage}}))},doneTask:function(t){t.completed=!t.completed,this.editTaskInLocalStorage()},editedTask:function(t){t.edit=!t.edit,t.editTask=t.title},acceptEdit:function(t){t.title=t.editTask,t.edit=!t.edit,t.editTask="",this.editTaskInLocalStorage()}})},k=p,f=(a("7a93"),a("2877")),m=Object(f["a"])(k,d,g,!1,null,null,null),h=m.exports,T={name:"TaskField",components:{Task:h},data:function(){return{newTask:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["getTaskList","getPage","paginationPageList"])),{},{createTaskId:function(){return this.getTaskList[0]?this.getTaskList[0].id+1:0}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["d"])(["incrementPage","decrementPage","pageAmount"])),Object(c["b"])(["addTaskInLocalStorage"])),{},{addTask:function(t){this.addTaskInLocalStorage({id:this.createTaskId,title:this.newTask,completed:!1,edit:!1}),this.clearTask(t),1!==parseInt(this.$route.params.id)&&this.resetData()},clearTask:function(t){t.preventDefault(),this.newTask=""},resetData:function(){this.pageAmount({amount:1}),this.$router.push({name:"page",params:{id:this.getPage}})},className:function(t){var e=["task"];return t.completed&&e.push("task__doneTask"),e.join(" ")},forwardPage:function(){this.getTaskList.length>10*this.getPage&&this.incrementPage(),this.$router.push({name:"page",params:{id:this.getPage}})},backPage:function(){this.getPage>1&&this.decrementPage(),this.$router.push({name:"page",params:{id:this.getPage}})}})},b=T,v=(a("36ac"),Object(f["a"])(b,u,l,!1,null,null,null)),L=v.exports,O={name:"App",components:{TaskField:L},computed:Object(o["a"])({},Object(c["c"])(["getPage","getTaskListLength"])),methods:Object(o["a"])(Object(o["a"])({},Object(c["d"])(["pageAmount","setTaskList"])),Object(c["b"])(["getTasksFromJson"])),mounted:function(){localStorage.taskList||this.getTasksFromJson(),this.setTaskList(),this.$route.params.id>Math.ceil(this.getTaskListLength/10)||/\D/.test(this.$route.params.id)?(this.pageAmount({amount:1}),this.$router.push({name:"page",params:{id:this.getPage}})):this.pageAmount({amount:this.$route.params.id})}},P=O,_=(a("5c0b"),Object(f["a"])(P,i,r,!1,null,null,null)),y=_.exports,j=(a("b0c0"),a("8c4f"));n["default"].use(j["a"]);var w=[{path:"*",name:"404",component:y},{path:"/page/:id",name:"page",component:y}],S=new j["a"]({mode:"history",base:"/",routes:w});S.beforeEach((function(t,e,a){"404"===t.name?a({name:"page",params:{id:1}}):a()}));var I=S,x=a("1da1"),C=(a("96cf"),a("fb6a"),a("4de4"),a("bc3a")),$=a.n(C);n["default"].use(c["a"]);var F=new c["a"].Store({state:{taskList:[],page:null},getters:{getTaskList:function(t){return t.taskList},getTaskListLength:function(t,e){return e.getTaskList.length},getPage:function(t){return t.page},paginationPageList:function(t){var e=10*(t.page-1),a=10*t.page;return t.taskList.slice(e,a)}},mutations:{saveInLocalStorage:function(t,e){localStorage.setItem("taskList",e)},setTaskList:function(t){if(localStorage.taskList){var e=JSON.parse(localStorage.taskList);t.taskList=e}else t.taskList=[]},reverseTaskList:function(t,e){e.reverse()},addTaskInTaskList:function(t,e){t.taskList.unshift({id:e.id,title:e.title,completed:e.completed,edit:e.edit})},deleteTaskFromTaskList:function(t,e){t.taskList=t.taskList.filter((function(t){return e!==t}))},incrementPage:function(t){t.page++},decrementPage:function(t){t.page--},pageAmount:function(t,e){t.page=e.amount}},actions:{getTasksFromJson:function(t){return Object(x["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,$.a.get("../tasks.json");case 3:n=e.sent,s=n.data,a("reverseTaskList",s),a("saveInLocalStorage",JSON.stringify(s));case 7:case"end":return e.stop()}}),e)})))()},addTaskInLocalStorage:function(t,e){var a=t.commit,n=t.state;a("addTaskInTaskList",e);var s=n.taskList;a("saveInLocalStorage",JSON.stringify(s))},deleteTaskFromLocalStorage:function(t,e){var a=t.commit,n=t.state;a("deleteTaskFromTaskList",e);var s=n.taskList;a("saveInLocalStorage",JSON.stringify(s))},editTaskInLocalStorage:function(t){var e=t.commit,a=t.state,n=a.taskList;e("saveInLocalStorage",JSON.stringify(n))}}});a("f9e3"),a("2dd8");n["default"].use(s["a"]),n["default"].config.productionTip=!1,new n["default"]({router:I,store:F,render:function(t){return t(y)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"7a93":function(t,e,a){"use strict";a("81c0")},"81c0":function(t,e,a){},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.a493739f.js.map